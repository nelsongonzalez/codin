!function(e){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var n=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{passive:!0};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._cb=t,this._opt=n,this._observationTargets=new Map}var n,r,i;return n=e,(r=[{key:"observe",value:function(e,t){var n=this,r=this._observationTargets.get(e)||[];r.includes(t)||(e.addEventListener(t,n,n._opt),n._observationTargets.set(e,r.concat(t)))}},{key:"unobserve",value:function(e,t){var n=this,r=this._observationTargets.get(e)||[],i=t&&r.includes(t)?[t]:t?[]:r,a=r.filter(function(e){return!i.includes(e)});i.forEach(function(t){return e.removeEventListener(t,n)}),a.length>0?this._observationTargets.set(e,a):this._observationTargets.delete(e)}},{key:"handleEvent",value:function(e){this._cb(e,this)}}])&&t(n.prototype,r),i&&t(n,i),e}();e.EventObserver=n}({});
